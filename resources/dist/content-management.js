(function(){"use strict";let s={init(){this.applyTheme(),this.setupToggleButton(),this.watchSystemPreference()},getTheme(){return localStorage.getItem("theme")},setTheme(e){localStorage.setItem("theme",e),this.applyTheme()},isDarkMode(){let e=this.getTheme(),t=window.matchMedia("(prefers-color-scheme: dark)").matches;return e==="dark"||!e&&t},applyTheme(){let e=this.getTheme(),t=window.matchMedia("(prefers-color-scheme: dark)").matches;e==="dark"||!e&&t?document.documentElement.classList.add("dark"):e==="light"&&document.documentElement.classList.remove("dark")},toggleTheme(){let e=document.documentElement.classList.contains("dark");this.setTheme(e?"light":"dark")},setupToggleButton(){let e=document.querySelector("[data-theme-toggle]");e&&e.addEventListener("click",()=>{this.toggleTheme()})},watchSystemPreference(){window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",t=>{this.getTheme()||(t.matches?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"))})}};document.readyState==="loading"?document.addEventListener("DOMContentLoaded",()=>s.init()):s.init(),window.ThemeManager=s})();
